<div class="container">
  <h2 class="text-center">Корзина</h2>
  <div *ngIf="cartItems.length === 0" class="alert alert-info text-center">
    Ваша корзина пуста.
  </div>
  <div *ngIf="cartItems.length > 0">
    <div class="cart-item" *ngFor="let cartItem of cartItems">
      <div class="row">
        <div class="col-md-3">
          <img [src]="cartItem.item.photo" [alt]="cartItem.item.itemName" class="img-fluid">
        </div>
        <div class="col-md-3">
          <h4>{{ cartItem.item.itemName }}</h4>
          <p>{{ cartItem.item.itemDescription }}</p>
        </div>
        <div class="col-md-2">
          <p><strong>{{ cartItem.item.unitPrice * cartItem.quantity }} грн</strong></p>
        </div>
        <div class="col-md-2">
          <label for="quantity-{{cartItem.item.itemId}}">Количество:</label>
          <input type="number" id="quantity-{{cartItem.item.itemId}}" [(ngModel)]="cartItem.quantity" [max]="cartItem.item.quantityAvailable" (change)="validateQuantity(cartItem); updateCart()">
          <p>Доступно на складе: {{ cartItem.item.quantityAvailable }}</p>
        </div>
        <div class="col-md-2">
          <button class="btn btn-danger" (click)="removeFromCart(cartItem.item.itemId)">Удалить</button>
        </div>
      </div>
      <hr>
    </div>
    <div class="text-center">
      <h3>Общая сумма: {{ totalPrice }} грн</h3>
      <button class="btn btn-danger" (click)="clearCart()">Очистить корзину</button>
      <button class="btn btn-success" [routerLink]="['/sales/checkout']">Оформить заказ</button>
    </div>
  </div>
</div>
